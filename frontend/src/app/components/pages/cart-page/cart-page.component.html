
<app-header></app-header>
<app-title fontSize="1.6rem" title="Cart Page" margin="1.5rem 0 0 2.5rem"></app-title>
<app-not-found
  [visible]="!cart || !cart.items.length"
  notFoundMessage="Cart Page Is Empty!"
  resetLinkText="Go To Homepage"
>
</app-not-found>
 @if(cart && cart.items.length) {
  <div class="containers">
    <ul>
      @for (cartItem of cart.items; track cartItem.furniture.id) {
        <li >
          <div>
            <img [src]="cartItem.furniture.imageUrl" [alt]="cartItem.furniture.name">
          </div>
          <div>
            <a routerLink="/food/{{cartItem.furniture.id}}">
              {{cartItem.furniture.name}}
            </a>
          </div>
          <div>
            <select #quantitySelect
            [value]="cartItem.quantity"
            (change)="changeQuantity(cartItem, quantitySelect.value)">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
          </div>
          <div>
            ฿{{cartItem.price}}.00
          </div>

          <div>
            <button class="remove-button" (click)="removeFromCart(cartItem)">
              Remove
            </button>
          </div>
          </li>
      }

    </ul>

    <div class="checkout">
      <div>
        <div class="furniture-count">{{cart.totalCount}}</div>
        <div class="total-price">฿{{cart.totalPrice}}.00</div>
      </div>

      <a routerLink="/checkout">Proceed to Checkout</a>
    </div>
    </div>
 }


